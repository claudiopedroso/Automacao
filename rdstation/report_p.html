Feature: Add leads to lead base
In order to improve my campaign planning and automation,
as a Marketing Manager,
I want to add leads to my lead base.

  Scenario: Add a lead to the base         # features/adding_a_lead.feature:10
    When I add a lead to the base          # features/step_definitions/adding_a_lead_steps.rb:77
    Then I should see it on the leads list # features/step_definitions/adding_a_lead_steps.rb:90

  Scenario: Add a company to the base          # features/adding_a_lead.feature:14
    When I add a company to the base           # features/step_definitions/adding_a_lead_steps.rb:95
    Then I should see it on the companies list # features/step_definitions/adding_a_lead_steps.rb:106

  @edit_lead
  Scenario: Edit a lead                               # features/adding_a_lead.feature:19
    When I edit a lead                                # features/step_definitions/adding_a_lead_steps.rb:111
    Then I should see the new information on the lead # features/step_definitions/adding_a_lead_steps.rb:118

  Scenario: Edit a lead information when adding it a second time      # features/adding_a_lead.feature:23
    When I add a lead that already exists                             # features/adding_a_lead.feature:24
    Then I should see the most recently added information on the lead # features/adding_a_lead.feature:25

  @link_company
  Scenario: Add a company to a lead                     # features/adding_a_lead.feature:28
    When I link a company to a lead                     # features/step_definitions/adding_a_lead_steps.rb:123
      Unable to find link or button "link_company" (Capybara::ElementNotFound)
      ./features/step_definitions/adding_a_lead_steps.rb:127:in `/^I link a company to a lead$/'
      features/adding_a_lead.feature:29:in `When I link a company to a lead'
    Then I should see the company name on the lead page # features/step_definitions/adding_a_lead_steps.rb:135
      Unable to find link or button "Desvincular Empresa" (Capybara::ElementNotFound)
      ./features/step_definitions/adding_a_lead_steps.rb:72:in `block (2 levels) in <top (required)>'
      ./features/step_definitions/adding_a_lead_steps.rb:71:in `After'

  Scenario: Searching for a lead                                # features/adding_a_lead.feature:32
    When I search for a lead using "Pedroso"                    # features/step_definitions/adding_a_lead_steps.rb:139
    Then I should see only the leads with "Pedroso" on the list # features/step_definitions/adding_a_lead_steps.rb:144

  @filter_by_seg
  Scenario: Filter a lead by segmentation                         # features/adding_a_lead.feature:37
    When I filter a lead by segmentation                          # features/step_definitions/adding_a_lead_steps.rb:148
    Then I should only see leads that belong to that segmentation # features/step_definitions/adding_a_lead_steps.rb:152

  Scenario: Add a tag to filtered leads             # features/adding_a_lead.feature:41
    When I add a tag to the filtered leads          # features/adding_a_lead.feature:42
    Then I should see the tag on the filtered leads # features/adding_a_lead.feature:43

  Scenario: Remove a tag from filtered leads    # features/adding_a_lead.feature:45
    When I remove a tag from the filtered leads # features/adding_a_lead.feature:46
    Then I should not the the tag on the leads  # features/adding_a_lead.feature:47

  Scenario: Order leads by a parameter         # features/adding_a_lead.feature:49
    When I order the leads list by a parameter # features/adding_a_lead.feature:50
    Then I should see the leads in that order  # features/adding_a_lead.feature:51

  Scenario: Export lead table                       # features/adding_a_lead.feature:53
    When I export the leads                         # features/adding_a_lead.feature:54
    Then I should receive a file with all the leads # features/adding_a_lead.feature:55

  Scenario: Import lead file                       # features/adding_a_lead.feature:57
    When I import a file with leads                # features/adding_a_lead.feature:58
    Then the leads should appear on the leads list # features/adding_a_lead.feature:59

Failing Scenarios:
cucumber features/adding_a_lead.feature:28 # Scenario: Add a company to a lead

12 scenarios (1 failed, 6 undefined, 5 passed)
24 steps (1 failed, 1 skipped, 12 undefined, 10 passed)
3m8.438s

You can implement step definitions for undefined steps with these snippets:

When(/^I add a lead that already exists$/) do
  pending # Write code here that turns the phrase above into concrete actions
end

Then(/^I should see the most recently added information on the lead$/) do
  pending # Write code here that turns the phrase above into concrete actions
end

When(/^I add a tag to the filtered leads$/) do
  pending # Write code here that turns the phrase above into concrete actions
end

Then(/^I should see the tag on the filtered leads$/) do
  pending # Write code here that turns the phrase above into concrete actions
end

When(/^I remove a tag from the filtered leads$/) do
  pending # Write code here that turns the phrase above into concrete actions
end

Then(/^I should not the the tag on the leads$/) do
  pending # Write code here that turns the phrase above into concrete actions
end

When(/^I order the leads list by a parameter$/) do
  pending # Write code here that turns the phrase above into concrete actions
end

Then(/^I should see the leads in that order$/) do
  pending # Write code here that turns the phrase above into concrete actions
end

When(/^I export the leads$/) do
  pending # Write code here that turns the phrase above into concrete actions
end

Then(/^I should receive a file with all the leads$/) do
  pending # Write code here that turns the phrase above into concrete actions
end

When(/^I import a file with leads$/) do
  pending # Write code here that turns the phrase above into concrete actions
end

Then(/^the leads should appear on the leads list$/) do
  pending # Write code here that turns the phrase above into concrete actions
end

